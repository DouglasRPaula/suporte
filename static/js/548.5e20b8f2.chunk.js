"use strict";(self.webpackChunksuporte=self.webpackChunksuporte||[]).push([[548],{4548:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Oe});var a=n(5043),o=n(4282),s=n(8139),r=n.n(s),i=n(7852),c=n(579);const l=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,striped:o,bordered:s,borderless:l,hover:d,size:u,variant:m,responsive:h,...f}=e;const x=(0,i.oU)(n,"table"),p=r()(a,x,m&&"".concat(x,"-").concat(m),u&&"".concat(x,"-").concat(u),o&&"".concat(x,"-").concat("string"===typeof o?"striped-".concat(o):"striped"),s&&"".concat(x,"-bordered"),l&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),g=(0,c.jsx)("table",{...f,className:p,ref:t});if(h){let e="".concat(x,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,c.jsx)("div",{className:e,children:g})}return g})),d=l;var u,m=n(3003),h=n(7080),f=n(5475),x=n(3043),p=n(8279),g=n(182),b=n(8260);function j(e){if((!u&&0!==u||e)&&p.A){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),u=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return u}var v=n(2667),y=n(1456),N=n(8293);function C(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)((()=>()=>t.current()),[])}var w=n(4232);function A(e){void 0===e&&(e=(0,g.A)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}function E(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var k=n(753),R=n(7950),S=n(6723),T=n(1342),F=n(8747);const O=(D="modal-open","".concat("data-rr-ui-").concat(D));var D;const B=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt((0,F.A)(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(O,""),(0,F.A)(a,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(O),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},M=(0,a.createContext)(p.A?window:void 0);M.Provider;function I(){return(0,a.useContext)(M)}const L=(e,t)=>p.A?null==e?(t||(0,g.A)()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;var P=n(4723);const W=function(e){let{children:t,in:n,onExited:o,mountOnEnter:s,unmountOnExit:r}=e;const i=(0,a.useRef)(null),c=(0,a.useRef)(n),l=(0,y.A)(o);(0,a.useEffect)((()=>{n?c.current=!0:l(i.current)}),[n,l]);const d=(0,N.A)(i,t.ref),u=(0,a.cloneElement)(t,{ref:d});return n?u:r||!c.current&&s?null:u};function H(e){let{children:t,in:n,onExited:o,onEntered:s,transition:r}=e;const[i,c]=(0,a.useState)(!n);n&&i&&c(!1);const l=function(e){let{in:t,onTransition:n}=e;const o=(0,a.useRef)(null),s=(0,a.useRef)(!0),r=(0,y.A)(n);return(0,P.A)((()=>{if(!o.current)return;let e=!1;return r({in:t,element:o.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[t,r]),(0,P.A)((()=>(s.current=!1,()=>{s.current=!0})),[]),o}({in:!!n,onTransition:e=>{Promise.resolve(r(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(c(!0),null==o||o(e.element)))}),(t=>{throw e.in||c(!0),t}))}}),d=(0,N.A)(l,t.ref);return i&&!n?null:(0,a.cloneElement)(t,{ref:d})}function U(e,t,n){return e?(0,c.jsx)(e,Object.assign({},n)):t?(0,c.jsx)(H,Object.assign({},n,{transition:t})):(0,c.jsx)(W,Object.assign({},n))}const z=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let _;function V(e){const t=I(),n=e||function(e){return _||(_=new B({ownerDocument:null==e?void 0:e.document})),_}(t),o=(0,a.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:(0,a.useCallback)((e=>{o.current.dialog=e}),[]),setBackdropRef:(0,a.useCallback)((e=>{o.current.backdrop=e}),[])})}const K=(0,a.forwardRef)(((e,t)=>{let{show:n=!1,role:o="dialog",className:s,style:r,children:i,backdrop:l=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:h,runTransition:f,backdropTransition:x,runBackdropTransition:g,autoFocus:b=!0,enforceFocus:j=!0,restoreFocus:v=!0,restoreFocusOptions:N,renderDialog:w,renderBackdrop:F=(e=>(0,c.jsx)("div",Object.assign({},e))),manager:O,container:D,onShow:B,onHide:M=(()=>{}),onExit:P,onExited:W,onExiting:H,onEnter:_,onEntering:K,onEntered:$}=e,q=function(e,t){if(null==e)return{};var n,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,z);const Y=I(),G=function(e,t){const n=I(),[o,s]=(0,a.useState)((()=>L(e,null==n?void 0:n.document)));if(!o){const t=L(e);t&&s(t)}return(0,a.useEffect)((()=>{t&&o&&t(o)}),[t,o]),(0,a.useEffect)((()=>{const t=L(e);t!==o&&s(t)}),[e,o]),o}(D),J=V(O),Q=(0,S.A)(),X=(0,T.A)(n),[Z,ee]=(0,a.useState)(!n),te=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,(()=>J),[J]),p.A&&!X&&n&&(te.current=A(null==Y?void 0:Y.document)),n&&Z&&ee(!1);const ne=(0,y.A)((()=>{if(J.add(),ce.current=(0,k.A)(document,"keydown",re),ie.current=(0,k.A)(document,"focus",(()=>setTimeout(oe)),!0),B&&B(),b){var e,t;const n=A(null!=(e=null==(t=J.dialog)?void 0:t.ownerDocument)?e:null==Y?void 0:Y.document);J.dialog&&n&&!E(J.dialog,n)&&(te.current=n,J.dialog.focus())}})),ae=(0,y.A)((()=>{var e;(J.remove(),null==ce.current||ce.current(),null==ie.current||ie.current(),v)&&(null==(e=te.current)||null==e.focus||e.focus(N),te.current=null)}));(0,a.useEffect)((()=>{n&&G&&ne()}),[n,G,ne]),(0,a.useEffect)((()=>{Z&&ae()}),[Z,ae]),C((()=>{ae()}));const oe=(0,y.A)((()=>{if(!j||!Q()||!J.isTopModal())return;const e=A(null==Y?void 0:Y.document);J.dialog&&e&&!E(J.dialog,e)&&J.dialog.focus()})),se=(0,y.A)((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&M())})),re=(0,y.A)((e=>{d&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&J.isTopModal()&&(null==m||m(e),e.defaultPrevented||M())})),ie=(0,a.useRef)(),ce=(0,a.useRef)();if(!G)return null;const le=Object.assign({role:o,ref:J.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:r,className:s,tabIndex:-1});let de=w?w(le):(0,c.jsx)("div",Object.assign({},le,{children:a.cloneElement(i,{role:"document"})}));de=U(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:P,onExiting:H,onExited:function(){ee(!0),null==W||W(...arguments)},onEnter:_,onEntering:K,onEntered:$,children:de});let ue=null;return l&&(ue=F({ref:J.setBackdropRef,onClick:se}),ue=U(x,g,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ue})),(0,c.jsx)(c.Fragment,{children:R.createPortal((0,c.jsxs)(c.Fragment,{children:[ue,de]}),G)})}));K.displayName="Modal";const $=Object.assign(K,{Manager:B});var q=Function.prototype.bind.call(Function.prototype.call,[].slice);function Y(e,t){return q(e.querySelectorAll(t))}function G(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const J=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Q=".sticky-top",X=".navbar-toggler";class Z extends B{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,(0,F.A)(t,{[e]:"".concat(parseFloat((0,F.A)(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],(0,F.A)(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Y(t,J).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth))),Y(t,Q).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),Y(t,X).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=G(n.className,a):n.setAttribute("class",G(n.className&&n.className.baseVal||"",a));const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Y(t,J).forEach((e=>this.restore(o,e))),Y(t,Q).forEach((e=>this.restore(s,e))),Y(t,X).forEach((e=>this.restore(s,e)))}}let ee;var te=n(4995);const ne=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:o="div",...s}=e;return a=(0,i.oU)(a,"modal-body"),(0,c.jsx)(o,{ref:t,className:r()(n,a),...s})}));ne.displayName="ModalBody";const ae=ne,oe=a.createContext({onHide(){}}),se=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,contentClassName:o,centered:s,size:l,fullscreen:d,children:u,scrollable:m,...h}=e;n=(0,i.oU)(n,"modal");const f="".concat(n,"-dialog"),x="string"===typeof d?"".concat(n,"-fullscreen-").concat(d):"".concat(n,"-fullscreen");return(0,c.jsx)("div",{...h,ref:t,className:r()(f,a,l&&"".concat(n,"-").concat(l),s&&"".concat(f,"-centered"),m&&"".concat(f,"-scrollable"),d&&x),children:(0,c.jsx)("div",{className:r()("".concat(n,"-content"),o),children:u})})}));se.displayName="ModalDialog";const re=se,ie=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:o="div",...s}=e;return a=(0,i.oU)(a,"modal-footer"),(0,c.jsx)(o,{ref:t,className:r()(n,a),...s})}));ie.displayName="ModalFooter";const ce=ie;var le=n(5632);const de=a.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:o,closeButton:s=!1,onHide:r,children:i,...l}=e;const d=(0,a.useContext)(oe),u=(0,y.A)((()=>{null==d||d.onHide(),null==r||r()}));return(0,c.jsxs)("div",{ref:t,...l,children:[i,s&&(0,c.jsx)(le.A,{"aria-label":n,variant:o,onClick:u})]})})),ue=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,closeLabel:o="Close",closeButton:s=!1,...l}=e;return n=(0,i.oU)(n,"modal-header"),(0,c.jsx)(de,{ref:t,...l,className:r()(a,n),closeLabel:o,closeButton:s})}));ue.displayName="ModalHeader";const me=ue;const he=(0,n(4488).A)("h4"),fe=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:o=he,...s}=e;return a=(0,i.oU)(a,"modal-title"),(0,c.jsx)(o,{ref:t,className:r()(n,a),...s})}));fe.displayName="ModalTitle";const xe=fe;function pe(e){return(0,c.jsx)(te.A,{...e,timeout:null})}function ge(e){return(0,c.jsx)(te.A,{...e,timeout:null})}const be=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:o,style:s,dialogClassName:l,contentClassName:d,children:u,dialogAs:m=re,"data-bs-theme":h,"aria-labelledby":f,"aria-describedby":A,"aria-label":E,show:k=!1,animation:R=!0,backdrop:S=!0,keyboard:T=!0,onEscapeKeyDown:F,onShow:O,onHide:D,container:B,autoFocus:M=!0,enforceFocus:I=!0,restoreFocus:L=!0,restoreFocusOptions:P,onEntered:W,onExit:H,onExiting:U,onEnter:z,onEntering:_,onExited:V,backdropClassName:K,manager:q,...Y}=e;const[G,J]=(0,a.useState)({}),[Q,X]=(0,a.useState)(!1),te=(0,a.useRef)(!1),ne=(0,a.useRef)(!1),ae=(0,a.useRef)(null),[se,ie]=(0,v.A)(),ce=(0,N.A)(t,ie),le=(0,y.A)(D),de=(0,i.Wz)();n=(0,i.oU)(n,"modal");const ue=(0,a.useMemo)((()=>({onHide:le})),[le]);function me(){return q||(e={isRTL:de},ee||(ee=new Z(e)),ee);var e}function he(e){if(!p.A)return;const t=me().getScrollbarWidth()>0,n=e.scrollHeight>(0,g.A)(e).documentElement.clientHeight;J({paddingRight:t&&!n?j():void 0,paddingLeft:!t&&n?j():void 0})}const fe=(0,y.A)((()=>{se&&he(se.dialog)}));C((()=>{(0,b.A)(window,"resize",fe),null==ae.current||ae.current()}));const xe=()=>{te.current=!0},be=e=>{te.current&&se&&e.target===se.dialog&&(ne.current=!0),te.current=!1},je=()=>{X(!0),ae.current=(0,w.A)(se.dialog,(()=>{X(!1)}))},ve=e=>{"static"!==S?ne.current||e.target!==e.currentTarget?ne.current=!1:null==D||D():(e=>{e.target===e.currentTarget&&je()})(e)},ye=(0,a.useCallback)((e=>(0,c.jsx)("div",{...e,className:r()("".concat(n,"-backdrop"),K,!R&&"show")})),[R,K,n]),Ne={...s,...G};Ne.display="block";return(0,c.jsx)(oe.Provider,{value:ue,children:(0,c.jsx)($,{show:k,ref:ce,backdrop:S,container:B,keyboard:!0,autoFocus:M,enforceFocus:I,restoreFocus:L,restoreFocusOptions:P,onEscapeKeyDown:e=>{T?null==F||F(e):(e.preventDefault(),"static"===S&&je())},onShow:O,onHide:D,onEnter:(e,t)=>{e&&he(e),null==z||z(e,t)},onEntering:(e,t)=>{null==_||_(e,t),(0,x.Ay)(window,"resize",fe)},onEntered:W,onExit:e=>{null==ae.current||ae.current(),null==H||H(e)},onExiting:U,onExited:e=>{e&&(e.style.display=""),null==V||V(e),(0,b.A)(window,"resize",fe)},manager:me(),transition:R?pe:void 0,backdropTransition:R?ge:void 0,renderBackdrop:ye,renderDialog:e=>(0,c.jsx)("div",{role:"dialog",...e,style:Ne,className:r()(o,n,Q&&"".concat(n,"-static"),!R&&"show"),onClick:S?ve:void 0,onMouseUp:be,"data-bs-theme":h,"aria-label":E,"aria-labelledby":f,"aria-describedby":A,children:(0,c.jsx)(m,{...Y,onMouseDown:xe,className:l,contentClassName:d,children:u})})})})}));be.displayName="Modal";const je=Object.assign(be,{Body:ae,Header:me,Title:xe,Footer:ce,Dialog:re,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function ve(e){let{show:t,onClose:n,chamadoId:a}=e;const s=(0,m.wA)();return(0,c.jsxs)(je,{show:t,onHide:n,children:[(0,c.jsx)(je.Header,{closeButton:!0,children:(0,c.jsx)(je.Title,{children:"Confirmar exclus\xe3o"})}),(0,c.jsx)(je.Body,{children:(0,c.jsx)("p",{children:"Deseja realmente excluir o chamado?"})}),(0,c.jsxs)(je.Footer,{children:[(0,c.jsx)(o.A,{variant:"secondary",onClick:n,children:"Cancelar"}),(0,c.jsx)(o.A,{variant:"danger",onClick:async()=>{try{const e=await fetch("http://localhost:5000/chamados/".concat(a),{method:"DELETE"});if(e.ok)n(),s((0,h.zv)(a));else{const t=await e.json();window.alert("Erro ao excluir chamado: ".concat(t.error))}}catch(e){console.error("Erro ao excluir chamado:",e),window.alert("Erro ao excluir chamado. Verifique o console para mais detalhes.")}},children:"Excluir"})]})]})}var ye=n(3910),Ne=n(7929);function Ce(e){let{chamadoId:t,handleOpenModal:n}=e;return(0,c.jsxs)("td",{className:"text-center text-nowarp align-middle no-print",children:[(0,c.jsx)(f.N_,{to:"/editar-chamado/".concat(t),children:(0,c.jsx)("button",{className:"bg-transparent border-0 px-0 mr-1",children:(0,c.jsx)(ye.g,{icon:Ne.zLW,fixedWidth:!0})})}),(0,c.jsx)("button",{onClick:()=>n(t),className:"bg-transparent border-0 px-0 mr-1",children:(0,c.jsx)(ye.g,{icon:Ne.yLS,fixedWidth:!0})})]})}function we(e){if(!e)return"";const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),o=t.getFullYear(),s=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0");return"".concat(n,"/").concat(a,"/").concat(o," ").concat(s,":").concat(r)}const Ae=a.forwardRef(((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:o=!1,text:s,className:l,as:d="span",...u}=e;const m=(0,i.oU)(n,"badge");return(0,c.jsx)(d,{ref:t,...u,className:r()(l,m,o&&"rounded-pill",s&&"text-".concat(s),a&&"bg-".concat(a))})}));Ae.displayName="Badge";const Ee=Ae;function ke(e){let t,n,{tipoChamadoId:a}=e;switch(a){case"Bug":t="Bug",n="danger";break;case"Modelo de ensaio":t="Modelo de ensaio",n="info";break;case"D\xfavida":t="D\xfavida",n="success";break;case"Power BI":t="Power BI",n="warning";break;default:t="Desconhecido",n="secondary"}return(0,c.jsx)(Ee,{pill:!0,bg:n,text:"white",children:t})}function Re(e){let{chamado:t,handleOpenModal:n}=e;return(0,c.jsxs)("tr",{children:[(0,c.jsxs)("td",{children:["#",t.numeroChamado]}),(0,c.jsx)("td",{children:t.empresa}),(0,c.jsx)("td",{children:t.contrato}),(0,c.jsx)("td",{style:{textAlign:"center"},children:we(t.dataInicio)}),(0,c.jsx)("td",{style:{textAlign:"center"},children:t.solicitante}),(0,c.jsx)("td",{style:{textAlign:"center"},children:t.criticidadeRevisada}),(0,c.jsx)("td",{style:{textAlign:"center"},children:we(t.dataEncerramento)}),(0,c.jsx)("td",{style:{textAlign:"center"},children:t.chamadoEncerrado?"Sim":"N\xe3o"}),(0,c.jsx)("td",{style:{textAlign:"center"},children:(0,c.jsx)(ke,{tipoChamadoId:t.tipoChamado})}),(0,c.jsx)("td",{children:t.descricaoChamado}),(0,c.jsx)("td",{style:{textAlign:"center"},children:t.tempoChamado}),(0,c.jsx)(Ce,{chamadoId:t._id,handleOpenModal:n})]},t._id)}var Se=n(9238);function Te(e){let{chamadosPorPagina:t,totalChamados:n,paginate:a,currentPage:o}=e;const s=[];for(let c=1;c<=Math.ceil(n/t);c++)s.push(c);let r=Math.max(o-2,0);const i=Math.min(r+5,s.length);return i-r<5&&r>0&&(r=i-5),(0,c.jsx)("nav",{children:(0,c.jsxs)("ul",{className:"pagination",children:[(0,c.jsx)("li",{className:"page-item",children:(0,c.jsx)("button",{onClick:()=>o>1&&a(o-1),className:"page-link",children:"\xab"})}),s.slice(r,i).map((e=>(0,c.jsx)("li",{className:"page-item ".concat(e===o?"active":""),children:(0,c.jsx)("button",{onClick:()=>a(e),className:"page-link",children:e})},e))),(0,c.jsx)("li",{className:"page-item",children:(0,c.jsx)("button",{onClick:()=>o<s.length&&a(o+1),className:"page-link",children:"\xbb"})})]})})}function Fe(e){let{onFilter:t}=e;const[n,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)({numeroChamado:"",empresa:"",contrato:"",dataInicio:"",solicitante:"",criticidadeRevisada:"",tipoChamado:""}),l=()=>s(!1),d=e=>{i({...r,[e.target.name]:e.target.value})},u=e=>{e.preventDefault(),t(r),l()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:(0,c.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>s(!0),children:[(0,c.jsx)(ye.g,{icon:Ne.mRM,fixedWidth:!0}),"Filtrar"]})}),(0,c.jsxs)(je,{show:n,onHide:l,children:[(0,c.jsx)(je.Header,{closeButton:!0,children:(0,c.jsx)(je.Title,{children:"Filtros"})}),(0,c.jsx)(je.Body,{children:(0,c.jsxs)("form",{onSubmit:u,children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"numeroChamado",className:"form-label",children:"N\xfamero do chamado"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"numeroChamado",name:"numeroChamado",value:r.numeroChamado,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"empresa",className:"form-label",children:"Empresa"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"empresa",name:"empresa",value:r.empresa,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"contrato",className:"form-label",children:"Contrato"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"contrato",name:"contrato",value:r.contrato,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"dataInicio",className:"form-label",children:"Data Inicio"}),(0,c.jsx)("input",{type:"date",className:"form-control",id:"dataInicio",name:"dataInicio",value:r.dataInicio,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"solicitante",className:"form-label",children:"Solicitante"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"solicitante",name:"solicitante",value:r.solicitante,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"criticidadeRevisada",className:"form-label",children:"Criticidade revisada"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"criticidadeRevisada",name:"criticidadeRevisada",value:r.criticidadeRevisada,onChange:d})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)("label",{htmlFor:"tipoChamado",className:"form-label",children:"Tipo do chamado"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"tipoChamado",name:"tipoChamado",value:r.tipoChamado,onChange:d})]})]})}),(0,c.jsxs)(je.Footer,{children:[(0,c.jsx)(o.A,{variant:"secondary",onClick:l,children:"Fechar"}),(0,c.jsx)(o.A,{variant:"primary",onClick:u,children:"Aplicar Filtros"})]})]})]})}function Oe(){const e=(0,m.d4)((e=>e.chamado.chamados)),t=(0,m.wA)(),[n,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(null),[l,u]=(0,a.useState)(1),[x]=(0,a.useState)(10),[p,g]=(0,a.useState)(0),[b,j]=(0,a.useState)({}),v=(0,a.useCallback)((e=>{i(e),s(!0)}),[]),y=(0,a.useCallback)((()=>{s(!1),i(null)}),[]),N=(0,a.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{const n=await fetch("http://localhost:5000/chamados?page=".concat(e,"&limit=").concat(x));if(!n.ok)return void(0,Se.A)("Ocorreu um  erro: ".concat(n.statusText));const a=await n.json();g(a.totalPages);const o=a.chamados.sort(((e,t)=>new Date(t.dataInicio)-new Date(e.dataInicio)));t((0,h.CT)(o))}catch(n){(0,Se.A)("erro ao pegar chamados:",n)}}),[t,x]);return(0,a.useEffect)((()=>{N(l,b)}),[N,l,b]),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"my-2 app-name",children:[(0,c.jsxs)("div",{className:"d-flex justify-content-between flex-nowrap align-items-center pb-2 mb-3 border-bottom",children:[(0,c.jsx)("h1",{className:"h4 mb-0",children:"Chamados"}),(0,c.jsx)("div",{className:"btn-toolbar mb-2 mb-md-0",children:(0,c.jsx)(f.N_,{to:"/novo-chamado",children:(0,c.jsx)(o.A,{className:" btn-primary btn-sm",children:"Novo registro"})})})]}),(0,c.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:(0,c.jsx)(Fe,{onFilter:e=>{j(e),N(l,e)}})})]}),(0,c.jsx)("div",{className:"overflow-auto",children:(0,c.jsxs)(d,{striped:!0,className:"fonte-doida",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{style:{textAlign:"center"},children:[(0,c.jsx)("th",{children:"N\xfamero do chamado"}),(0,c.jsx)("th",{children:"Empresa"}),(0,c.jsx)("th",{children:"Contrato"}),(0,c.jsx)("th",{children:"Data Inicio"}),(0,c.jsx)("th",{children:"Solicitante"}),(0,c.jsx)("th",{children:"Criticidade revisada"}),(0,c.jsx)("th",{children:"Data encerramento"}),(0,c.jsx)("th",{children:"Chamado encerrado?"}),(0,c.jsx)("th",{children:"tipo do chamado"}),(0,c.jsx)("th",{children:"Descri\xe7\xe3o do chamado"}),(0,c.jsx)("th",{children:"Tempo do chamado"}),(0,c.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,c.jsx)("tbody",{children:e.map((e=>(0,c.jsx)(Re,{chamado:e,handleOpenModal:v},e._id)))})]})}),(0,c.jsx)(ve,{show:n,onClose:y,onConfirm:()=>{y()},chamadoId:r}),(0,c.jsx)(Te,{chamadosPorPagina:x,totalChamados:p*x,paginate:e=>u(e),currentPage:l})]})}},9238:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(5483),o=n(579);function s(e){let{message:t}=e;return(0,o.jsx)(a.A,{variant:"danger",style:{position:"fixed",top:"20px",right:"20px",zIndex:9999},children:t})}},4282:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(8139),o=n.n(a),s=n(5043),r=n(4140),i=n(7852),c=n(579);const l=s.forwardRef(((e,t)=>{let{as:n,bsPrefix:a,variant:s="primary",size:l,active:d=!1,disabled:u=!1,className:m,...h}=e;const f=(0,i.oU)(a,"btn"),[x,{tagName:p}]=(0,r.Am)({tagName:n,disabled:u,...h}),g=p;return(0,c.jsx)(g,{...x,...h,ref:t,disabled:u,className:o()(m,f,d&&"active",s&&"".concat(f,"-").concat(s),l&&"".concat(f,"-").concat(l),h.href&&u&&"disabled")})}));l.displayName="Button";const d=l}}]);
//# sourceMappingURL=548.5e20b8f2.chunk.js.map
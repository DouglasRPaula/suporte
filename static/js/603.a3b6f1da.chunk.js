(self.webpackChunksuporte=self.webpackChunksuporte||[]).push([[603],{6487:a=>{a.exports={empresasBackgroundColors:["#355070","#6d597a","#b56576","#e56b6f","#eaac8b","#3c6e71","#499cd3","#432818","#25242292"],empresas:["CBMM","Reta","Vale","Gerdau","JMendes","Eurochem","MCA","Chammas","Samarco"],labels:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}},9603:(a,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>b});var t=s(461),o=s(5043),r=s(6058),i=s(3003),n=s(9238),c=s(7080),l=s(6487),d=s(579);function h(){const a=(0,i.d4)((a=>a.chamado.bugsPorEmpresa)),e=(0,i.wA)(),s=(0,o.useCallback)((async()=>{try{const a=await fetch("http://localhost:5000/bugsPorEmpresa");if(!a.ok)return void(0,n.A)("Ocorreu um erro: ".concat(a.statusText));const s=await a.json();e((0,c.$y)(s))}catch(a){(0,n.A)("erro ao pegar chamados:",a)}}),[e]);(0,o.useEffect)((()=>{s()}),[s]);const t=a=>{const e=[];return l.empresas.forEach((s=>{const t=l.labels.map(((e,t)=>{const o=a.find((a=>a._id.empresa===s&&a._id.mes===t+1));return o?o.total:0}));e.push(t)})),e},h={labels:l.labels,datasets:l.empresas.map(((e,s)=>({label:e,data:t(a)[s],backgroundColor:l.empresasBackgroundColors[s]})))};return(0,d.jsx)("div",{style:{width:"45%",height:"450px"},children:(0,d.jsx)(r.yP,{options:{responsive:!0,plugins:{legend:{position:"right",labels:{font:{size:12},boxWidth:10}},title:{display:!0,text:"Bugs por empresa",font:{size:20}}}},data:h})})}function p(){const a=(0,i.d4)((a=>a.chamado.chamadosPorEmpresaEMes)),e=(0,i.wA)(),s=(0,o.useCallback)((async()=>{try{const a=await fetch("http://localhost:5000/chamadosPorEmpresaEMes");if(!a.ok)return void(0,n.A)("Ocorreu um erro: ".concat(a.statusText));const s=await a.json();e((0,c.CQ)(s))}catch(a){(0,n.A)("erro ao pegar chamados:",a)}}),[e]);(0,o.useEffect)((()=>{s()}),[s]);const t=a=>{const e=[];return l.empresas.forEach((s=>{const t=l.labels.map(((e,t)=>{const o=a.find((a=>a._id.empresa===s&&a._id.month===t+1));return o?o.total:0}));e.push(t)})),e},h={labels:l.labels,datasets:l.empresas.map(((e,s)=>({label:e,data:t(a)[s],backgroundColor:l.empresasBackgroundColors[s]})))};return(0,d.jsx)("div",{style:{width:"45%",height:"450px"},children:(0,d.jsx)(r.yP,{options:{responsive:!0,plugins:{legend:{position:"right",labels:{font:{size:12},boxWidth:10}},title:{display:!0,text:"Chamados das empresas por m\xeas",font:{size:20}}}},data:h})})}function u(){const a=(0,i.d4)((a=>a.chamado.chamadosPorMes)),e=(0,i.wA)(),s=(0,o.useCallback)((async()=>{try{const a=await fetch("http://localhost:5000/chamadosPorMes");if(!a.ok)return void(0,n.A)("Ocorreu um erro: ".concat(a.statusText));const s=await a.json();e((0,c.CX)(s))}catch(a){(0,n.A)("erro ao pegar chamados:",a)}}),[e]);(0,o.useEffect)((()=>{s()}),[s]);const t={labels:l.labels,datasets:[{label:"N\xfamero de chamados",data:l.labels.map(((e,s)=>{const t=a.find((a=>a._id.month===s+1));return t?t.total:0})),backgroundColor:"rgba(233, 23, 23, 0.521)"}]};return(0,d.jsx)("div",{style:{width:"45%",height:"450px"},children:(0,d.jsx)(r.yP,{options:{responsive:!0,plugins:{legend:{position:"top",labels:{font:{size:12},boxWidth:10}},title:{display:!0,text:"Chamados por m\xeas",font:{size:20}}}},data:t})})}function m(){const a=(0,i.d4)((a=>a.chamado.chamadosPorMesECriticidade)),e=(0,i.wA)(),s=(0,o.useCallback)((async()=>{try{const a=await fetch("http://localhost:5000/chamadosPorMesECriticidade");if(!a.ok)return void(0,n.A)("Ocorreu um erro: ".concat(a.statusText));const s=await a.json();e((0,c.cN)(s))}catch(a){(0,n.A)("erro ao pegar chamados:",a)}}),[e]);(0,o.useEffect)((()=>{s()}),[s]);const t={labels:l.labels,datasets:["1","2","3","4","5"].map((e=>{let s;switch(e){case"1":s="#d62828";break;case"2":s="#f77f00";break;case"3":s="#fcbf49";break;case"4":s="#81b29a";break;case"5":s="#eae2b7";break;default:s="rgba(0, 0, 0, 0.5)"}const t={label:e,data:new Array(12).fill(0),backgroundColor:s};return a.forEach((a=>{a._id.criticidade===e&&(t.data[a._id.month-1]+=a.total)})),t}))};return(0,d.jsx)("div",{style:{width:"45%",height:"450px"},children:(0,d.jsx)(r.yP,{options:{responsive:!0,plugins:{legend:{position:"right",labels:{font:{size:12},boxWidth:10}},title:{display:!0,text:"Criticidade por m\xeas",font:{size:20}}}},data:t})})}function b(a){let{options:e,data:s}=a;return(0,d.jsxs)("div",{className:"my-2 app-name",children:[(0,d.jsx)("div",{className:"d-flex justify-content-between flex-nowrap align-items-center pb-2 mb-3",children:(0,d.jsx)("h1",{className:"h4 mb-0",children:"Metricas"})}),(0,d.jsx)("ul",{class:"nav nav-tabs",children:(0,d.jsx)("li",{class:"nav-item",children:(0,d.jsx)("a",{class:"nav-link active","aria-current":"page",href:"metricas",children:"2024"})})}),(0,d.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[(0,d.jsx)(u,{options:e,data:s}),(0,d.jsx)(m,{options:e,data:s}),(0,d.jsx)(p,{options:e,data:s}),(0,d.jsx)(h,{options:e,data:s})]})]})}t.t1.register(t.PP,t.kc,t.E8,t.hE,t.m_,t.s$),t.t1.register(t.PP,t.kc,t.E8,t.hE,t.m_,t.s$),t.t1.register(t.PP,t.kc,t.E8,t.hE,t.m_,t.s$),t.t1.register(t.PP,t.kc,t.E8,t.hE,t.m_,t.s$)},9238:(a,e,s)=>{"use strict";s.d(e,{A:()=>r});var t=s(5483),o=s(579);function r(a){let{message:e}=a;return(0,o.jsx)(t.A,{variant:"danger",style:{position:"fixed",top:"20px",right:"20px",zIndex:9999},children:e})}}}]);
//# sourceMappingURL=603.a3b6f1da.chunk.js.map